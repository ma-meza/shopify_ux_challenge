{"version":3,"sources":["assets/styles.module.css","assets/search.svg","assets/trash.svg","assets/share-android.svg","App.js","reportWebVitals.js","index.js"],"names":["module","exports","App","props","state","titleSearchInput","searchResults","nominationsList","searchResultErrorMessage","omdbError","handleInputChange","bind","nominateMovie","unNominateMovie","isNominated","updateLocalStorage","clearLocalStorage","inputRef","React","createRef","inputDivRef","queryParams","URLSearchParams","window","location","search","get","length","movieIdArray","split","linkNominations","axiosRequestList","i","push","axios","all","then","spread","responses","j","data","Response","setState","Storage","localStorage","movieNominations","this","JSON","parse","current","onfocus","classList","add","styles","focusedDiv","onblur","remove","e","target","name","value","res","Search","Error","catch","err","setItem","stringify","removeItem","movie","id","imdbID","nominations","splice","movieId","shareMyList","omdbErrorPopup","map","key","Title","Year","className","disabledButton","button","onClick","regularText","middleText","style","backgroundImage","Poster","nominationCardPoster","removeNominationButton","src","trashIcon","substring","topBanner","contentBody","title1","shareIcon","ref","inputDiv","searchIcon","onChange","type","placeholder","searchResultsMainContainer","shareLink","nominationsMainContainer","title2","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+GACAA,EAAOC,QAAU,CAAC,eAAiB,+BAA+B,OAAS,uBAAuB,SAAW,yBAAyB,UAAY,0BAA0B,WAAa,2BAA2B,OAAS,uBAAuB,OAAS,uBAAuB,YAAc,4BAA4B,UAAY,0BAA0B,yBAA2B,yCAAyC,qBAAuB,qCAAqC,uBAAyB,uCAAuC,YAAc,4BAA4B,2BAA6B,2CAA2C,UAAY,0BAA0B,WAAa,6B,4NCD1rB,MAA0B,mCCA1B,MAA0B,kCCA1B,MAA0B,0CCsO1BC,E,kDA7Nb,WAAYC,GAAO,IAAD,8BAChB,cAAMA,IACDC,MAAQ,CACXC,iBAAiB,GACjBC,cAAc,GACdC,gBAAgB,GAChBC,yBAAyB,GACzBC,WAAU,GAEZ,EAAKC,kBAAoB,EAAKA,kBAAkBC,KAAvB,gBACzB,EAAKC,cAAgB,EAAKA,cAAcD,KAAnB,gBACrB,EAAKE,gBAAkB,EAAKA,gBAAgBF,KAArB,gBACvB,EAAKG,YAAc,EAAKA,YAAYH,KAAjB,gBACnB,EAAKI,mBAAqB,EAAKA,mBAAmBJ,KAAxB,gBAC1B,EAAKK,kBAAoB,EAAKA,kBAAkBL,KAAvB,gBAEzB,EAAKM,SAAWC,IAAMC,YACtB,EAAKC,YAAcF,IAAMC,YAjBT,E,gEAmBE,IAAD,OACbE,EAAc,IAAIC,gBAAgBC,OAAOC,SAASC,QAAQC,IAAI,QAClE,GAAGL,GAAeA,EAAYM,OAAO,EAAE,CAIrC,IAHA,IAAIC,EAAeP,EAAYQ,MAAM,MACjCC,EAAkB,GAClBC,EAAmB,GACfC,EAAE,EAAEA,EAAEJ,EAAaD,OAAOK,IAChCD,EAAiBE,KAAKC,IAAMR,IAAI,8CAAsEE,EAAaI,KAErHE,IAAMC,IAAIJ,GAAkBK,KAAKF,IAAMG,QAAO,WAAiB,IAAD,uBAAZC,EAAY,yBAAZA,EAAY,gBAC5D,IAAI,IAAIC,EAAE,EAAEA,EAAED,EAAUX,OAAOY,IACK,SAA/BD,EAAUC,GAAGC,KAAKC,UAEnBX,EAAgBG,KAAKK,EAAUC,GAAGC,MAGnCV,EAAgBH,OAAO,GACxB,EAAKe,SAAS,CACZnC,gBAAgBuB,YAKE,qBAAba,SAA4BC,aAAaC,kBAClDC,KAAKJ,SAAS,CACZnC,gBAAgBwC,KAAKC,MAAMJ,aAAaC,oBAK3CC,KAAK7B,SAASgC,SAAWH,KAAK1B,YAAY6B,UAC3CH,KAAK7B,SAASgC,QAAQC,QAAU,WAC9B,EAAK9B,YAAY6B,QAAQE,UAAUC,IAAIC,IAAOC,aAEhDR,KAAK7B,SAASgC,QAAQM,OAAS,WAC7B,EAAKnC,YAAY6B,QAAQE,UAAUK,OAAOH,IAAOC,gB,wCAIrCG,GAAG,IAAD,SACIA,EAAEC,OAAjBC,EADW,EACXA,KAAMC,EADK,EACLA,MACH,qBAAPD,IACEC,EAAMjC,OAAO,EACdO,IAAMR,IAAI,gDAAwEkC,EAAM,eAAexB,MAAK,SAACyB,GAClF,SAAtBA,EAAIrB,KAAKC,SAEV,EAAKC,SAAS,CACZpC,cAAcuD,EAAIrB,KAAKsB,SAGtBD,EAAIrB,KAAKuB,OACV,EAAKrB,SAAS,CACZlC,yBAAyBqD,EAAIrB,KAAKuB,WAIvCC,OAAM,SAACC,GACLA,GACD,EAAKvB,SAAS,CACZjC,WAAU,OAKhBqC,KAAKJ,SAAS,CACZpC,cAAc,GACdE,yBAAyB,MAK/BsC,KAAKJ,SAAL,eACGiB,EAAMC,M,2CAKe,qBAAbjB,SACTC,aAAasB,QAAQ,mBAAoBnB,KAAKoB,UAAUrB,KAAK1C,MAAMG,oB,0CAI7C,qBAAboC,SACTC,aAAawB,WAAW,sB,oCAIdC,GAGZ,IAHmB,IAAD,OACdC,EAAKD,EAAME,OACXC,EAAc1B,KAAK1C,MAAMG,gBACrByB,EAAE,EAAEA,EAAEwC,EAAY7C,OAAOK,IAC/B,GAAGwC,EAAYxC,GAAGuC,SAAWD,EAC3B,OAGDxB,KAAK1C,MAAMG,gBAAgBoB,QAAQ,IACpC6C,EAAYvC,KAAKoC,GACjBvB,KAAKJ,SAAS,CACZnC,gBAAgBiE,IACf,WAAK,EAAKzD,2B,sCAGDsD,GAGd,IAHqB,IAAD,OAChBC,EAAKD,EAAME,OACXC,EAAc1B,KAAK1C,MAAMG,gBACrByB,EAAE,EAAEA,EAAEwC,EAAY7C,OAAOK,IAC/B,GAAGwC,EAAYxC,GAAGuC,SAAWD,EAK3B,OAJAE,EAAYC,OAAOzC,EAAE,QACrBc,KAAKJ,SAAS,CACZnC,gBAAgBiE,IACf,WAAK,EAAKzD,0B,kCAMP2D,GACV,IAAI,IAAI1C,EAAE,EAAEA,EAAEc,KAAK1C,MAAMG,gBAAgBoB,OAAOK,IAC9C,GAAGc,KAAK1C,MAAMG,gBAAgByB,GAAGuC,SAAWG,EAC1C,OAAO,EAGX,OAAO,I,+BAKA,IACHpE,EAkBAC,EACAoE,EAmBAC,EAvCE,OA+CN,OA5CEtE,EADCwC,KAAK1C,MAAME,cAAcqB,OAAO,EACjBmB,KAAK1C,MAAME,cAAcuE,KAAI,SAACjB,EAAOkB,GACnD,OACE,gCACE,8BAAIlB,EAAMmB,MAAV,KAAmBnB,EAAMoB,KAAzB,OACC,EAAKlE,YAAY8C,EAAMW,QAAQ,wBAAQU,UAAW5B,IAAO6B,eAA1B,sBAA4D,wBAAQD,UAAW5B,IAAO8B,OAAQC,QAAS,WAAK,EAAKxE,cAAcgD,IAAnE,wBAFpFkB,MAMPhC,KAAK1C,MAAMI,yBAAyBmB,OAAO,EAClC,mBAAGsD,UAAW5B,IAAOgC,YAAY,IAAIhC,IAAOiC,WAA5C,SAA0DxC,KAAK1C,MAAMI,2BAErE,mBAAGyE,UAAW5B,IAAOgC,YAAY,IAAIhC,IAAOiC,WAA5C,0DAOfxC,KAAK1C,MAAMG,gBAAgBoB,OAAO,GACnCgD,EAAc,uDACdpE,EAAkBuC,KAAK1C,MAAMG,gBAAgBsE,KAAI,SAACjB,EAAOkB,GAEvD,OADAH,GAAaf,EAAMW,OAAO,KAEtB,sBAAegB,MAAO,CAACC,gBAAgB,QAAQ5B,EAAM6B,OAAO,MAAOR,UAAW5B,IAAOqC,qBAArF,UACE,qBAAKN,QAAS,WAAK,EAAKvE,gBAAgB+C,IAASqB,UAAW5B,IAAOsC,uBAAnE,SACE,qBAAKC,IAAKC,MAEZ,oBAAGZ,UAAW5B,IAAOgC,YAArB,UAAmCzB,EAAMmB,MAAzC,IAAiDnB,EAAMoB,UAJ/CF,MAQhBH,EAAcA,EAAYmB,UAAU,EAAGnB,EAAYhD,OAAO,IAE1DpB,EAAkB,mDAIQ,IAAzBuC,KAAK1C,MAAMK,YACZmE,EACE,8BACE,4FAKJ,sBAAKK,UAAU,MAAf,UACqC,IAApCnC,KAAK1C,MAAMG,gBAAgBoB,OAAW,qBAAK2C,GAAIjB,IAAO0C,UAAhB,SAA2B,mBAAGd,UAAW5B,IAAOgC,YAArB,6DAA0F,KAC1J,sBAAKf,GAAIjB,IAAO2C,YAAhB,UAEE,mBAAGf,UAAW5B,IAAO4C,OAArB,iCAAoD,qBAAK3B,GAAIjB,IAAO6C,UAAWN,IAAKM,IACpF,sBAAKC,IAAKrD,KAAK1B,YAAakD,GAAIjB,IAAO+C,SAAvC,UACE,qBAAKR,IAAKS,IACV,uBAAOF,IAAKrD,KAAK7B,SAAUqF,SAAUxD,KAAKpC,kBAAmB6F,KAAK,OAAO5C,KAAK,mBAAmBC,MAAOd,KAAK1C,MAAMC,iBAAkBmG,YAAY,mBAGnJ,sBAAKlC,GAAIjB,IAAOoD,2BAAhB,UACGnG,EADH,MAGK,oBAAGgE,GAAIjB,IAAOqD,UAAd,0CAAuD/B,QAE5D,sBAAKL,GAAIjB,IAAOsD,yBAAhB,UACI,mBAAG1B,UAAW5B,IAAOuD,OAArB,yBACDrG,KAGFqE,Y,GAvNO1D,IAAM2F,WCITC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB5E,MAAK,YAAkD,IAA/C6E,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.96bcbb4f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"disabledButton\":\"styles_disabledButton__GUcf1\",\"button\":\"styles_button__3gdzL\",\"inputDiv\":\"styles_inputDiv__35jMn\",\"shareIcon\":\"styles_shareIcon__1ELqT\",\"focusedDiv\":\"styles_focusedDiv__1AGV7\",\"title1\":\"styles_title1__1h9HJ\",\"title2\":\"styles_title2__1ZC_Q\",\"regularText\":\"styles_regularText__3k7jA\",\"topBanner\":\"styles_topBanner__3CbS0\",\"nominationsMainContainer\":\"styles_nominationsMainContainer__2hn4b\",\"nominationCardPoster\":\"styles_nominationCardPoster__33rNN\",\"removeNominationButton\":\"styles_removeNominationButton__38dAD\",\"contentBody\":\"styles_contentBody__1em19\",\"searchResultsMainContainer\":\"styles_searchResultsMainContainer__1rqut\",\"shareLink\":\"styles_shareLink__2p2vQ\",\"middleText\":\"styles_middleText__1Pii6\"};","export default __webpack_public_path__ + \"static/media/search.841f128c.svg\";","export default __webpack_public_path__ + \"static/media/trash.0f34c80f.svg\";","export default __webpack_public_path__ + \"static/media/share-android.ae50b540.svg\";","import './App.css';\nimport React from \"react\";\nimport axios from \"axios\";\nimport styles from \"./assets/styles.module.css\";\nimport searchIcon from \"./assets/search.svg\";\nimport trashIcon from \"./assets/trash.svg\";\nimport shareIcon from \"./assets/share-android.svg\";\n\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      titleSearchInput:\"\",\n      searchResults:[],\n      nominationsList:[],\n      searchResultErrorMessage:\"\",\n      omdbError:false\n    }\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.nominateMovie = this.nominateMovie.bind(this);\n    this.unNominateMovie = this.unNominateMovie.bind(this);\n    this.isNominated = this.isNominated.bind(this);\n    this.updateLocalStorage = this.updateLocalStorage.bind(this);\n    this.clearLocalStorage = this.clearLocalStorage.bind(this);\n\n    this.inputRef = React.createRef();\n    this.inputDivRef = React.createRef();\n  }\n  componentDidMount(){\n    let queryParams = new URLSearchParams(window.location.search).get('nomi');\n    if(queryParams && queryParams.length>0){\n      let movieIdArray = queryParams.split(\"$$\");\n      let linkNominations = [];\n      let axiosRequestList = [];\n      for(let i=0;i<movieIdArray.length;i++){\n        axiosRequestList.push(axios.get(\"https://www.omdbapi.com/?apikey=\"+process.env.REACT_APP_OMDB_KEY+\"=\"+movieIdArray[i]));\n      }\n      axios.all(axiosRequestList).then(axios.spread((...responses)=>{\n        for(let j=0;j<responses.length;j++){\n          if(responses[j].data.Response === \"True\"){\n            //has a response with movie result\n            linkNominations.push(responses[j].data);\n          }\n        }\n        if(linkNominations.length>0){\n          this.setState({\n            nominationsList:linkNominations\n          });\n        }\n      }));\n    }else{\n      if (typeof(Storage) !== \"undefined\" && localStorage.movieNominations) {\n        this.setState({\n          nominationsList:JSON.parse(localStorage.movieNominations)\n        });\n      }\n    }\n\n    if(this.inputRef.current && this.inputDivRef.current){\n      this.inputRef.current.onfocus = ()=>{\n        this.inputDivRef.current.classList.add(styles.focusedDiv);\n      }\n      this.inputRef.current.onblur = ()=>{\n        this.inputDivRef.current.classList.remove(styles.focusedDiv);\n      }\n    }\n  }\n  handleInputChange(e){\n    const {name, value} = e.target;\n    if(name===\"titleSearchInput\"){\n      if(value.length>0){\n        axios.get(\"https://www.omdbapi.com/?apikey=\"+process.env.REACT_APP_OMDB_KEY+\"&s=\"+value+\"&type=movie\").then((res)=>{\n          if(res.data.Response === \"True\"){\n            //has a response with movie result\n            this.setState({\n              searchResults:res.data.Search\n            });\n          }else{\n            if(res.data.Error){\n              this.setState({\n                searchResultErrorMessage:res.data.Error\n              });\n            }\n          }\n        }).catch((err)=>{\n          if(err){\n            this.setState({\n              omdbError:true\n            });\n          }\n        });\n      }else{\n        this.setState({\n          searchResults:[],\n          searchResultErrorMessage:\"\"\n        });\n      }\n    }\n\n    this.setState({\n      [name]:value\n    });\n  }\n\n  updateLocalStorage(){\n    if (typeof(Storage) !== \"undefined\") {\n      localStorage.setItem(\"movieNominations\", JSON.stringify(this.state.nominationsList));\n    }\n  }\n  clearLocalStorage(){\n    if (typeof(Storage) !== \"undefined\") {\n      localStorage.removeItem(\"movieNominations\");\n    }\n  }\n\n  nominateMovie(movie){\n    let id = movie.imdbID;\n    let nominations = this.state.nominationsList;\n    for(let i=0;i<nominations.length;i++){\n      if(nominations[i].imdbID === id){\n        return;\n      }\n    }\n    if(this.state.nominationsList.length<=4){\n      nominations.push(movie);\n      this.setState({\n        nominationsList:nominations\n      }, ()=>{this.updateLocalStorage()});\n    }\n  }\n  unNominateMovie(movie){\n    let id = movie.imdbID;\n    let nominations = this.state.nominationsList;\n    for(let i=0;i<nominations.length;i++){\n      if(nominations[i].imdbID === id){\n        nominations.splice(i,1);\n        this.setState({\n          nominationsList:nominations\n        }, ()=>{this.updateLocalStorage()});\n        return;\n      }\n    }\n  }\n\n  isNominated(movieId){\n    for(let i=0;i<this.state.nominationsList.length;i++){\n      if(this.state.nominationsList[i].imdbID === movieId){\n        return true;\n      }\n    }\n    return false;\n  }\n\n\n\n  render(){\n    let searchResults;\n    if(this.state.searchResults.length>0){\n      searchResults = this.state.searchResults.map((value, key)=>{\n        return (\n          <div key={key}>\n            <p>{value.Title} ({value.Year})</p>\n            {this.isNominated(value.imdbID)?<button className={styles.disabledButton}>Nominate</button>:<button className={styles.button} onClick={()=>{this.nominateMovie(value)}}>Nominate</button>}\n          </div>\n        );\n      });\n    }else if(this.state.searchResultErrorMessage.length>0){\n      searchResults = <p className={styles.regularText+\" \"+styles.middleText} >{this.state.searchResultErrorMessage}</p>\n    }else{\n      searchResults = <p className={styles.regularText+\" \"+styles.middleText}>Search for a movie title in the input above.</p>\n    }\n\n\n\n    let nominationsList;\n    let shareMyList;\n    if(this.state.nominationsList.length>0){\n      shareMyList = \"https://marque2.github.io/shopify_ux_challenge?nomi=\";\n      nominationsList = this.state.nominationsList.map((value, key)=>{\n        shareMyList+=value.imdbID+\"$$\";\n        return (\n            <div key={key} style={{backgroundImage:\"url('\"+value.Poster+\"')\"}} className={styles.nominationCardPoster}>\n              <div onClick={()=>{this.unNominateMovie(value)}} className={styles.removeNominationButton}>\n                <img src={trashIcon} />\n              </div>\n              <p className={styles.regularText}>{value.Title} {value.Year}</p>\n            </div>\n        );\n      });\n      shareMyList = shareMyList.substring(0, shareMyList.length-2);\n    }else{\n      nominationsList = <p>Add nominations!!</p>\n    }\n\n    let omdbErrorPopup;\n    if(this.state.omdbError === true){\n      omdbErrorPopup = (\n        <div>\n          <p>There was an error with omdb's server! Please try again.</p>\n        </div>\n      );\n    }\n    return (\n      <div className=\"App\">\n      {this.state.nominationsList.length===5?<div id={styles.topBanner}><p className={styles.regularText}>Your nomination list is full! (5 movies max.)</p></div>:null}\n        <div id={styles.contentBody}>\n\n          <p className={styles.title1}>The Shoppies Awards</p><img id={styles.shareIcon} src={shareIcon}/>\n          <div ref={this.inputDivRef} id={styles.inputDiv}>\n            <img src={searchIcon} />\n            <input ref={this.inputRef} onChange={this.handleInputChange} type=\"text\" name=\"titleSearchInput\" value={this.state.titleSearchInput} placeholder=\"movie title\"></input>\n          </div>\n\n          <div id={styles.searchResultsMainContainer}>\n            {searchResults}\n\n            // <p id={styles.shareLink}>Share your nominations list: {shareMyList}</p>\n          </div>\n          <div id={styles.nominationsMainContainer}>\n              <p className={styles.title2}>Nominations</p>\n            {nominationsList}\n          </div>\n\n          {omdbErrorPopup}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}