(this.webpackJsonpshopify_ux_challenge=this.webpackJsonpshopify_ux_challenge||[]).push([[0],{1:function(e,t,n){e.exports={disabledButton:"styles_disabledButton__GUcf1",button:"styles_button__3gdzL",inputDiv:"styles_inputDiv__35jMn",shareIcon:"styles_shareIcon__1ELqT",focusedDiv:"styles_focusedDiv__1AGV7",title1:"styles_title1__1h9HJ",title2:"styles_title2__1ZC_Q",regularText:"styles_regularText__3k7jA",topBanner:"styles_topBanner__3CbS0",nominationsMainContainer:"styles_nominationsMainContainer__2hn4b",nominationCardPoster:"styles_nominationCardPoster__33rNN",removeNominationButton:"styles_removeNominationButton__38dAD",contentBody:"styles_contentBody__1em19",searchResultsMainContainer:"styles_searchResultsMainContainer__1rqut",shareLink:"styles_shareLink__2p2vQ",middleText:"styles_middleText__1Pii6",movieCard:"styles_movieCard__iqTsS",movieCardPoster:"styles_movieCardPoster__3gDXL"}},26:function(e,t,n){},27:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(4),s=n.n(a),o=n(15),r=n.n(o),c=(n(26),n(16)),l=n(17),u=n(18),h=n(3),d=n(20),m=n(19),p=(n(27),n(5)),b=n.n(p),v=n(1),g=n.n(v),f=n.p+"static/media/search.841f128c.svg",j=n.p+"static/media/trash.0f34c80f.svg",_=n.p+"static/media/share-android.ae50b540.svg",x=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).state={titleSearchInput:"",searchResults:[],nominationsList:[],searchResultErrorMessage:"",omdbError:!1},i.handleInputChange=i.handleInputChange.bind(Object(h.a)(i)),i.nominateMovie=i.nominateMovie.bind(Object(h.a)(i)),i.unNominateMovie=i.unNominateMovie.bind(Object(h.a)(i)),i.isNominated=i.isNominated.bind(Object(h.a)(i)),i.updateLocalStorage=i.updateLocalStorage.bind(Object(h.a)(i)),i.clearLocalStorage=i.clearLocalStorage.bind(Object(h.a)(i)),i.inputRef=s.a.createRef(),i.inputDivRef=s.a.createRef(),i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams(window.location.search).get("nomi");if(t&&t.length>0){for(var n=t.split("$$"),i=[],a=[],s=0;s<n.length;s++)a.push(b.a.get("https://www.omdbapi.com/?apikey=82ab90b1&i="+n[s]));b.a.all(a).then(b.a.spread((function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var s=0;s<n.length;s++)"True"===n[s].data.Response&&i.push(n[s].data);i.length>0&&e.setState({nominationsList:i})})))}else"undefined"!==typeof Storage&&localStorage.movieNominations&&this.setState({nominationsList:JSON.parse(localStorage.movieNominations)});this.inputRef.current&&this.inputDivRef.current&&(this.inputRef.current.onfocus=function(){e.inputDivRef.current.classList.add(g.a.focusedDiv)},this.inputRef.current.onblur=function(){e.inputDivRef.current.classList.remove(g.a.focusedDiv)})}},{key:"handleInputChange",value:function(e){var t=this,n=e.target,i=n.name,a=n.value;"titleSearchInput"===i&&(a.length>0?b.a.get("https://www.omdbapi.com/?apikey=82ab90b1&i&s="+a+"&type=movie").then((function(e){"True"===e.data.Response?t.setState({searchResults:e.data.Search}):e.data.Error&&t.setState({searchResultErrorMessage:e.data.Error})})).catch((function(e){e&&t.setState({omdbError:!0})})):this.setState({searchResults:[],searchResultErrorMessage:""})),this.setState(Object(c.a)({},i,a))}},{key:"updateLocalStorage",value:function(){"undefined"!==typeof Storage&&localStorage.setItem("movieNominations",JSON.stringify(this.state.nominationsList))}},{key:"clearLocalStorage",value:function(){"undefined"!==typeof Storage&&localStorage.removeItem("movieNominations")}},{key:"nominateMovie",value:function(e){for(var t=this,n=e.imdbID,i=this.state.nominationsList,a=0;a<i.length;a++)if(i[a].imdbID===n)return;this.state.nominationsList.length<=4&&(i.push(e),this.setState({nominationsList:i},(function(){t.updateLocalStorage()})))}},{key:"unNominateMovie",value:function(e){for(var t=this,n=e.imdbID,i=this.state.nominationsList,a=0;a<i.length;a++)if(i[a].imdbID===n)return i.splice(a,1),void this.setState({nominationsList:i},(function(){t.updateLocalStorage()}))}},{key:"isNominated",value:function(e){for(var t=0;t<this.state.nominationsList.length;t++)if(this.state.nominationsList[t].imdbID===e)return!0;return!1}},{key:"render",value:function(){var e,t,n,a,s=this;return e=this.state.searchResults.length>0?this.state.searchResults.map((function(e,t){return Object(i.jsxs)("div",{className:g.a.movieCard,children:[Object(i.jsx)("div",{className:g.a.movieCardPoster,style:{backgroundImage:"url('"+e.Poster+"')"}}),Object(i.jsxs)("p",{className:g.a.regularText,children:[e.Title," (",e.Year,")"]}),s.isNominated(e.imdbID)?Object(i.jsx)("button",{className:g.a.disabledButton,children:"Nominate"}):Object(i.jsx)("button",{className:g.a.button,onClick:function(){s.nominateMovie(e)},children:"Nominate"})]},t)})):this.state.searchResultErrorMessage.length>0?Object(i.jsx)("p",{className:g.a.regularText+" "+g.a.middleText,children:this.state.searchResultErrorMessage}):Object(i.jsx)("p",{className:g.a.regularText+" "+g.a.middleText,children:"Search for a movie title in the input above."}),this.state.nominationsList.length>0?(n="https://marque2.github.io/shopify_ux_challenge?nomi=",t=this.state.nominationsList.map((function(e,t){return n+=e.imdbID+"$$",Object(i.jsxs)("div",{style:{backgroundImage:"url('"+e.Poster+"')"},className:g.a.nominationCardPoster,children:[Object(i.jsx)("div",{onClick:function(){s.unNominateMovie(e)},className:g.a.removeNominationButton,children:Object(i.jsx)("img",{src:j})}),Object(i.jsxs)("p",{className:g.a.regularText,children:[e.Title," ",e.Year]})]},t)})),n=n.substring(0,n.length-2)):t=Object(i.jsx)("p",{className:g.a.regularText,children:"Nominate up to 5 of your favorite movies."}),!0===this.state.omdbError&&(a=Object(i.jsx)("div",{children:Object(i.jsx)("p",{children:"There was an error with omdb's server! Please try again."})})),Object(i.jsxs)("div",{className:"App",children:[5===this.state.nominationsList.length?Object(i.jsx)("div",{id:g.a.topBanner,children:Object(i.jsx)("p",{className:g.a.regularText,children:"Your nomination list is full! (5 movies max.)"})}):null,Object(i.jsxs)("div",{id:g.a.contentBody,children:[Object(i.jsx)("p",{className:g.a.title1,children:"The Shoppies Awards"}),Object(i.jsx)("img",{id:g.a.shareIcon,src:_}),Object(i.jsxs)("div",{ref:this.inputDivRef,id:g.a.inputDiv,children:[Object(i.jsx)("img",{src:f}),Object(i.jsx)("input",{ref:this.inputRef,onChange:this.handleInputChange,type:"text",name:"titleSearchInput",value:this.state.titleSearchInput,placeholder:"movie title"})]}),Object(i.jsx)("div",{id:g.a.searchResultsMainContainer,children:e}),Object(i.jsxs)("div",{id:g.a.nominationsMainContainer,children:[Object(i.jsx)("p",{className:g.a.title2,children:"Nominations"}),t]}),a]})]})}}]),n}(s.a.Component),y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),i(e),a(e),s(e),o(e)}))};r.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(x,{})}),document.getElementById("root")),y()}},[[46,1,2]]]);
//# sourceMappingURL=main.98f5d419.chunk.js.map